<div class="login-container">
  <div class="login-background">
    <div class="background-shape shape-1"></div>
    <div class="background-shape shape-2"></div>
    <div class="background-shape shape-3"></div>
  </div>
  
  <div class="login-content">
    <div class="login-card">
      <div class="login-header">
        <div class="logo-container">
          <div class="logo">
            <span class="logo-text">OEFA</span>
          </div>
        </div>
        <h1 class="login-title">Sistema de Firmas Digitales</h1>
        <p class="login-subtitle">Accede a tu cuenta para gestionar certificados digitales</p>
      </div>

      <div class="login-tabs">
        <button 
          type="button" 
          class="tab-button"
          [class.active]="loginType === 'admin'"
          (click)="switchLoginType('admin')">
          <i class="icon-admin"></i>
          Administrador
        </button>
        <button 
          type="button" 
          class="tab-button"
          [class.active]="loginType === 'firmante'"
          (click)="switchLoginType('firmante')">
          <i class="icon-user"></i>
          Firmante
        </button>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <div class="form-content">
          <!-- Admin Login Fields -->
          <div *ngIf="loginType === 'admin'" class="form-fields">
            <div class="form-group">
              <label for="email" class="form-label">
                <i class="icon-email"></i>
                Correo Electrónico
              </label>
              <input
                id="email"
                type="email"
                formControlName="email"
                class="form-control"
                [class.is-invalid]="isFieldInvalid('email')"
                placeholder="admin@oefa.gob.pe"
                autocomplete="email">
              <span *ngIf="getFieldError('email')" class="form-error">
                {{ getFieldError('email') }}
              </span>
            </div>

            <div class="form-group">
              <label for="password" class="form-label">
                <i class="icon-lock"></i>
                Contraseña
              </label>
              <input
                id="password"
                type="password"
                formControlName="password"
                class="form-control"
                [class.is-invalid]="isFieldInvalid('password')"
                placeholder="••••••••"
                autocomplete="current-password">
              <span *ngIf="getFieldError('password')" class="form-error">
                {{ getFieldError('password') }}
              </span>
            </div>
          </div>

          <!-- Firmante Login Fields -->
          <div *ngIf="loginType === 'firmante'" class="form-fields">
            <div class="form-group">
              <label for="dni" class="form-label">
                <i class="icon-id"></i>
                DNI
              </label>
              <input
                id="dni"
                type="text"
                formControlName="dni"
                class="form-control"
                [class.is-invalid]="isFieldInvalid('dni')"
                placeholder="12345678"
                maxlength="8"
                autocomplete="username">
              <span *ngIf="getFieldError('dni')" class="form-error">
                {{ getFieldError('dni') }}
              </span>
            </div>

            <div class="form-group">
              <label for="pin" class="form-label">
                <i class="icon-key"></i>
                PIN
              </label>
              <input
                id="pin"
                type="password"
                formControlName="pin"
                class="form-control"
                [class.is-invalid]="isFieldInvalid('pin')"
                placeholder="••••••"
                maxlength="6"
                autocomplete="current-password">
              <span *ngIf="getFieldError('pin')" class="form-error">
                {{ getFieldError('pin') }}
              </span>
            </div>
          </div>

          <div class="form-options">
            <label class="checkbox-label">
              <input
                type="checkbox"
                formControlName="rememberMe"
                class="checkbox-input">
              <span class="checkbox-custom"></span>
              <span class="checkbox-text">Recordarme</span>
            </label>
          </div>

          <div *ngIf="error" class="alert alert-error">
            <i class="icon-alert"></i>
            {{ error }}
          </div>

          <div class="form-actions">
            <button
              type="submit"
              class="btn btn-primary btn-lg"
              [disabled]="isLoading || loginForm.invalid">
              <span *ngIf="isLoading" class="loading"></span>
              <span *ngIf="!isLoading">Iniciar Sesión</span>
            </button>
          </div>
        </div>
      </form>

      <div class="login-footer">
        <div class="demo-credentials">
          <h3>Credenciales para Demo:</h3>
          <div class="demo-section">
            <strong>Administrador:</strong>
            <span>admin&#64;oefa.gob.pe / admin123</span>
          </div>
          <div class="demo-section">
            <strong>Firmante:</strong>
            <span>DNI: 12345678 / PIN: 123456</span>
          </div>
        </div>
        <p class="copyright">
          © 2024 OEFA - Organismo de Evaluación y Fiscalización Ambiental
        </p>
      </div>
    </div>
  </div>
</div>